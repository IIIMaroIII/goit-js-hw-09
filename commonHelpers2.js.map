{"version":3,"file":"commonHelpers2.js","sources":["../src/scripts/save-to-ls.js","../src/scripts/load-from-ls.js","../src/js/2-form.js"],"sourcesContent":["export function saveToLS(key = 'empty', value = '') {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n","export function loadFromLS(key = 'empty') {\n  const data = localStorage.getItem(key);\n\n  try {\n    const result = JSON.parse(data);\n    return result;\n  } catch {\n    return data;\n  }\n}\n","import '../css/styles.css';\nimport { saveToLS } from '../scripts/save-to-ls';\nimport { loadFromLS } from '../scripts/load-from-ls';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormInput);\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const { email, message } = loadFromLS(STORAGE_KEY) || {};\n  const formEmail = refs.form.elements.email.value;\n  const formMessage = refs.form.elements.message.value;\n  if (formEmail.length === 0 || formMessage.length === 0) {\n    window.alert('Please fill out all input fields!');\n  } else {\n    console.log(loadFromLS(STORAGE_KEY));\n    localStorage.removeItem(STORAGE_KEY);\n    refs.form.reset();\n  }\n}\n\nfunction onFormInput(evt) {\n  const userEmail = refs.form.elements.email.value;\n  const userMessage = refs.form.elements.message.value;\n\n  const objData = {\n    email: userEmail.trim(),\n    message: userMessage.trim(),\n  };\n  saveToLS(STORAGE_KEY, objData);\n}\n\nfunction restoreDataToForm() {\n  const { email, message } = loadFromLS(STORAGE_KEY) || {};\n  refs.form.elements.email.value = email || '';\n  refs.form.elements.message.value = message || '';\n}\nrestoreDataToForm();\n"],"names":["saveToLS","key","value","jsonData","loadFromLS","data","STORAGE_KEY","refs","onFormSubmit","onFormInput","evt","formEmail","formMessage","userEmail","userMessage","objData","restoreDataToForm","email","message"],"mappings":"wFAAO,SAASA,EAASC,EAAM,QAASC,EAAQ,GAAI,CAClD,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CCHO,SAASC,EAAWH,EAAM,QAAS,CACxC,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EAErC,GAAI,CAEF,OADe,KAAK,MAAMI,CAAI,CAElC,MAAI,CACA,OAAOA,CACR,CACH,CCLA,MAAMC,EAAc,sBAEdC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EACjDD,EAAK,KAAK,iBAAiB,QAASE,CAAW,EAE/C,SAASD,EAAaE,EAAK,CACzBA,EAAI,eAAc,EACSN,EAAWE,CAAW,EACjD,MAAMK,EAAYJ,EAAK,KAAK,SAAS,MAAM,MACrCK,EAAcL,EAAK,KAAK,SAAS,QAAQ,MAC3CI,EAAU,SAAW,GAAKC,EAAY,SAAW,EACnD,OAAO,MAAM,mCAAmC,GAEhD,QAAQ,IAAIR,EAAWE,CAAW,CAAC,EACnC,aAAa,WAAWA,CAAW,EACnCC,EAAK,KAAK,QAEd,CAEA,SAASE,EAAYC,EAAK,CACxB,MAAMG,EAAYN,EAAK,KAAK,SAAS,MAAM,MACrCO,EAAcP,EAAK,KAAK,SAAS,QAAQ,MAEzCQ,EAAU,CACd,MAAOF,EAAU,KAAM,EACvB,QAASC,EAAY,KAAM,CAC/B,EACEd,EAASM,EAAaS,CAAO,CAC/B,CAEA,SAASC,GAAoB,CAC3B,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKd,EAAWE,CAAW,GAAK,GACtDC,EAAK,KAAK,SAAS,MAAM,MAAQU,GAAS,GAC1CV,EAAK,KAAK,SAAS,QAAQ,MAAQW,GAAW,EAChD,CACAF,EAAmB"}